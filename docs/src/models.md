# Discuit.jl models

The following pre defined models can be invoked by ADD FUNCTION...

## Model builder

Add details of model generating function here.

### Defaults

[Discuit.jl models](@ref) are `mutable struct`s so it is convenient to generate pre defined with default values for most things and allow the user to overwrite as required. Only the model name and `initial_condition` are required to call ADD XREF. The following gives an overview of important defaults that the user should note before proceeding with their analysis.

#### Observation function

The default `model.obs_function` is YET TO BE DETERMINED...

#### Observation likelihood model

The default `model.obs_model` is YET TO BE DETERMINED...

#### Prior density function

The default `model.prior` density function is weak, e.g. in a simple two parameter model it is equivalent to:

    function weak_prior(parameters::Array{Float64, 1})
        parameters[1] > 0.0 || return 0.0
        parameters[2] > 0.0 || return 0.0
        return 1.0
    end

Note that all models generated by the ADD XREF have `t0_index = 0` by default and that changing this parameter will likely require replacing the the density with something like:

    function weak_prior(parameters::Array{Float64, 1})
        parameters[1] > 0.0 || return 0.0
        parameters[2] > 0.0 || return 0.0
        parameters[3] < 0.0 || return 0.0
        return 1.0
    end

where `parameters[3]` is designated as the, e.g. initial infection, which is assumed to have taken place prior to e.g. the initial observation at t = 0.0. ADD LATEX...

## Classic Kermack-McKendrick models

### SI

The susceptible-infectious ([SI](@ref)) is a very basic model with only one type of event. Individuals who become infected remain infected for the duration of trajectory.

Latex test:

```latex {cmd=true hide=true}
\documentclass{standalone}
\usepackage{tikz}
\usetikzlibrary{matrix}
\begin{document}
\begin{tikzpicture}
  \matrix (m) [matrix of math nodes,row sep=3em,column sep=4em,minimum width=2em]
  {
     F & B \\
      & A \\};
  \path[-stealth]
    (m-1-1) edge node [above] {$\beta$} (m-1-2)
    (m-1-2) edge node [right] {$\rho$} (m-2-2)
    (m-1-1) edge node [left] {$\alpha$} (m-2-2);
\end{tikzpicture}
\end{document}
```

### SIS

### SIR

### SIRS

## Latent Kermack-McKendrick models

### SEI

### SEIS

### SEIR

### SEIRS

## Miscellaneous

### Lotka-Volterra predator-prey model

The Lotka-Volterra model is well known for its application to predator-prey interactions but can also be used to model chemical, bio molecular and other auto regulating biological systems. Compartments are labelled Predator, pRey. The `model.rate_function` for prey reproduction, predator reproduction and predator death is defined as:
    function lotka_rf(output, parameters::Array{Float64, 1}, population::Array{Int32, 1})
      # prey; predator reproduction; predator death
      output[1] = parameters[1] * population[2]
      output[2] = parameters[2] * population[1] * population[2]
      output[3] = parameters[3] * population[1]
    end
The transition matrix `m_transition` is defined as
    [ 0  1;
      1 -1;
     -1  0 ]

### Ross-MacDonald predator-prey model

### SETIR model for bTB
