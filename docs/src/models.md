# Discuit.jl models

The following pre defined models can be invoked by ADD FUNCTION...

## Model builder

Add details of model generating function here.

### Defaults

[Discuit.jl models](@ref) are `mutable struct`s so it is convenient to generate pre defined with default values for most things and allow the user to overwrite as required. Only the model name and `initial_condition` are required to call ADD XREF. The following gives an overview of important defaults that the user should note before proceeding with their analysis.

#### Observation function

The default `model.obs_function` is YET TO BE DETERMINED...

#### Observation likelihood model

The default `model.obs_model` is YET TO BE DETERMINED...

#### Prior density function

The default `model.prior` density function is weak, e.g. in a simple two parameter model it is equivalent to:

    function weak_prior(parameters::Array{Float64, 1})
        parameters[1] > 0.0 || return 0.0
        parameters[2] > 0.0 || return 0.0
        return 1.0
    end

Note that all models generated by the ADD XREF have `t0_index = 0` by default and that changing this parameter will likely require replacing the the density with something like:

    function weak_prior(parameters::Array{Float64, 1})
        parameters[1] > 0.0 || return 0.0
        parameters[2] > 0.0 || return 0.0
        parameters[3] < 0.0 || return 0.0
        return 1.0
    end

where `parameters[3]` is designated as the, e.g. initial infection, which is assumed to have taken place prior to e.g. the initial observation at t = 0.0. ADD LATEX...

## Classic Kermack-McKendrick models

### SI

The susceptible-infectious ([SI](@ref)) is a very basic model with only one type of event. Individuals who become infected remain infected for the duration of trajectory.

![SI model](https://raw.githubusercontent.com/mjb3/Discuit.jl/master/docs/img/si.png =250x)

### SIR

The classic Kermack-McKendrick susceptible-infectious-recovered ([SIR](@ref)) model.

![SIR model](https://raw.githubusercontent.com/mjb3/Discuit.jl/master/docs/img/sir.png)

### SIS

The susceptible-infectious-susceptible ([SIS](@ref)) model is an extension of the classic Kermack-McKendrick ([SIR](@ref)) model for diseases which do not confer lasting immunity.

![SIS model](https://raw.githubusercontent.com/mjb3/Discuit.jl/master/docs/img/sis.png)

### SIRS

The susceptible-infectious-recovered-susceptible ([SIRS](@ref)) model incorporates all of the above, i.e. it is for diseases which do not confer long lasting immunity.

![SIRS model](https://raw.githubusercontent.com/mjb3/Discuit.jl/master/docs/img/sirs.png)

## Latent Kermack-McKendrick models

The next class of models extend the classic Kermack-McKendrick by accounting for an exposed state `E` between infection and the onset of infectiousness.

### SEI

The susceptible-exposed-infectious ([SEI](@ref)) model.

![SEI model](https://raw.githubusercontent.com/mjb3/Discuit.jl/master/docs/img/sei.png)

### SEIS

### SEIR

### SEIRS

## Miscellaneous

### Lotka-Volterra predator-prey model

The Lotka-Volterra model is well known for its application to predator-prey interactions but can also be used to model chemical, bio molecular and other auto regulating biological systems. Compartments are labelled Predator, pRey. The `model.rate_function` for prey reproduction, predator reproduction and predator death is defined as:

    function lotka_rf(output, parameters::Array{Float64, 1}, population::Array{Int64, 1})
      # prey; predator reproduction; predator death
      output[1] = parameters[1] * population[2]
      output[2] = parameters[2] * population[1] * population[2]
      output[3] = parameters[3] * population[1]
    end

with the transition matrix given as:

    m_transition = [ 0 1; 1 -1; -1  0 ]

### Ross-MacDonald predator-prey model

### SETIR model for bTB
